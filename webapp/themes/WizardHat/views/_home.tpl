[header.tpl]
<div class="slider">
	<ul>
		<li>
			<div style="background: #fff url(/files/img/slides/low-rez/checks-bg.jpg) no-repeat center center;background-size:cover;">
				<div style="background: transparent url(/files/img/slides/checks-bg.jpg) no-repeat center center;background-size:cover;">
					<div class="inner-wrapper main-wrap">
						<div class="pad">
							<div class="home anim-group">
								<div class="anim">Your Web,</div>
								<div class="anim">No cost!</div >
								<div class="anim">No payment!</div >
								<div class="anim">Free! Fast! Friendly!</div >
							</div>
						</div>
					</div>
				</div>
			</div>
		</li>
		<li>
			<div style="background: #fff url(/files/img/slides/low-rez/cms.jpg) no-repeat center center;background-size:cover;">
				<div style="background: transparent url(/files/img/slides/cms.jpg) no-repeat center center;background-size:cover;">
					<div class="inner-wrapper main-wrap">
						<div class="pad">
							<div class="home anim-group">
								<div class="anim">Modern "Model, View, Controller" Architecture!</div>
								<div class="anim">Wordpress to ShiftSmith in minutes.</div>
								<div class="anim">Content Management from easy to advanced</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</li>
		<li>
			<div style="background: #fff url(/files/img/slides/low-rez/upload.jpg) no-repeat center center;background-size:cover;">
				<div style="background: transparent url(/files/img/slides/upload.jpg) no-repeat center center;background-size:cover;">
					<div class="inner-wrapper main-wrap">
						<div class="pad">
							<div class="home anim-group">
								<div class="anim">Data Extracts:</div>
								<div class="anim">- Local or Remote HTML</div>
								<div class="anim">- Database Imports</div>
								<div class="anim">- File Imports (.csv, .pdf, .txt, .doc, .docx)</div>
							</div>
						</div>
					</div>
				</div>
		</li>
		<li>
			<div style="background: #fff url(/files/img/slides/low-rez/output.jpeg) no-repeat center center;background-size:cover;">
				<div style="background: transparent url(/files/img/slides/output.jpeg) no-repeat center center;background-size:cover;">
					<div class="inner-wrapper main-wrap">
						<div class="pad">
							<div class="home anim-group">
								<div class="anim">Flexible output manipulation.</div>
								<div class="anim">Inject ANY content.</div>
								<div class="anim">Inject ANYWHERE in output.</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</li>
	</ul>
</div>

<div class="inner-wrapper help-section" id="mvc">
	<div class="pad">

		<p>ShiftSmith, a PHP Framework designed with an <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank" title="What is MVC?">MVC architecture</a>.</p>

		<div class="cols-wrapper cf">
			<div class="col1">
				<div class="head-img"><img src="/files/img/business-user.png" alt="Business user" /></div>
				<h3>Business users section</h3>
				<p>Login at: <a href="[page.url]/user" target="_blank">[page.url]/user</a></p>
			</div>
			<div class="col2">
				<div class="head-img"><img src="/files/img/code.jpg" alt="Developer" /></div>
				<h3>Developers section</h3>
				<p>Code Base at: <a target="_blank" href="https://github.com/LucLaverdure/ShiftSmith">github.com/LucLaverdure/ShiftSmith</a></p> 
			</div>
			<div class="col3">
				<div class="head-img"><img src="/files/img/bug.png" alt="Quality Assurance" /></div>
				<h3>Quality Assurance section</h3>
				<p><a href="https://validator.w3.org/nu/?doc=http%3A%2F%2Fshiftsmith.com%2F" target="_blank">W3C HTML Validator</a></p>
				<p><a href="https://validator.w3.org/checklink?uri=http%3A%2F%2Fshiftsmith.com&hide_type=all&depth=&check=Check" target="_blank">W3C Links Verification</a></p>
				<p><a href="https://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fshiftsmith.com&profile=css3&usermedium=all&warning=1&vextwarning=&lang=en" target="_blank">W3C CSS Verification</a></p>
				<p><a target="_blank" href="https://github.com/LucLaverdure/ShiftSmith/issues/new">Create a bug report here.</a></p>
			</div>
		</div>
	</div>
</div>
<div class="bg-download">
	<div class="inner-wrapper download-section">
		<div class="pad">
			<a href="https://github.com/LucLaverdure/ShiftSmith/archive/master.zip" class="new-download-button hvr-grow">
				<img id="downloads" src="/files/img/download-shiftsmith.png" alt="zip-file" />
				<span class="vert-wrap">
					<span class="title">
						<span class="title-left">Shift</span><span class="title-right">Smith</span>
					</span>
					<span class="dl">Download
						<span id="version-wrapper">v<span id="version-inject">&nbsp;</span></span>
					</span>
				</span>
			</a>
		</div>
	</div>
</div>
	
<div class="inner-wrapper help-section" id="mvc">
	<div class="pad">
	
	<h3 id="tutorials">Tutorials</h3>
 	
	<div class="videoWrapper">
		<iframe width="560" height="315" src="https://www.youtube.com/embed/2bgShhVAXFQ" frameborder="0" allowfullscreen></iframe>
	</div>
	
	<p><a href="#" class="showhide" data-group="env">Environment Setup</a> &mdash; Copy, Extract, Build.</p>
	<div id="env" style="display:none;">
		<p>Requirements:</p>
		
		<ul class="ul">
			<li>- PHP 5.x or higher</li>
			<li>- MySQL 5.x or higher</li>
		</ul>
		
		<p>Jumpstart a development environment with <a href="http://www.wampserver.com/en/#download-wrapper" target="_blank">WAMP</a> or <a href="http://ampps.com/downloads">LAMP</a></p>
		
		<p><a href="#downloads">Download ShiftSmith</a></p>
		
		<p>Extract the files from the zip file at the webroot of your host.</p>
		
		<p>You are good to go!</p>
	</div>

	<!--
	<p><a href="#" class="showhide" data-group="start">Getting Started</a></p>
	<div id="start" style="display:none;">
		<p>Your working directory is under <span class="code">/webapp</span></p>
	</div>
	-->
	
	<p><a id="hello" href="#" class="showhide" data-group="helloworld">From Hello World to Pro ShiftSmither</a> &mdash; A developer's guide</p>
	<div id="helloworld">
		<div class="slider-hello-world">
			<ul>
				<li>
					<p class="schema">
						<img src="/files/img/Controller.jpg" width="300" height="225" />
						<img src="/files/img/model.jpg" />
						<img src="/files/img/view.jpg" />
					</p>
					<div class="schema">
						<span class="head-title">Controller</span>
						<span class="head-title">Model</span>
						<span class="head-title">View</span>
					</div>
					<div class="schema">
						<div class="body">
							Think of the controller as the ignition firing after inserting the right key (trigger)<br/><br/>
							<span class="code">/webapp/controllers/hello.php</span>
						</div>
						<div class="body">Think of the Model as data travelling from the controller to the view.
							<br/><br/>
							<span class="code">$this->addModel('page', 'greeting', 'Hello world!');</span>
						</div>
						<div class="body">Think of the View as a skin or design envelopping the model.
						<br/><br/>
						<span class="code">/webapp/views/hello.tpl</span></div>
					</div>
				</li>
				<li>
					<p class="center"><img src="/files/img/Controller.jpg" width="300" height="225" /></p>
					<p>We'll first be creating a controller.</p>
				</li>
				<li>
					<p class="center"><img src="/files/img/Controller.jpg" width="300" height="225" /></p>
					<p>Controllers are the ignition of all processes. If a class within the scanned files extends the class <span class="code">Controller</span>, we're in business!</p>
					<p>Next ShiftSmith examines the <span class="code">validate</span> function of the Controller.</p>
					<p>If <span class="code">validate</span> return <span class="code">false</span>, the controller is dropped.</p>
					<p>When <span class="code">validate</span> returns a number, it represents the priority of execution (Controllers are sorted by highest priority first, keep in mind multiple controllers can trigger).</p>
					<p>Let's take a look at a controller.</p>
				</li>
				<li>
					<p class="center"><img src="/files/img/Controller.jpg" width="300" height="225" /></p>
					<p><span class="code">/webapp/controllers/hello.php</span></p>
<pre><code class="language-php">
&lt;?php

// Hello World Example

class helloworld extends Controller { // A controller is defined by "extends Controller"

	// To determine if the controller is triggered, the validate function is used.
	// returns anything but false to trigger
	function validate() {
		// Trigger home controller for /home and /
		// the q() function returns the path requested without domain.
		if (q()=="helloworld") {
			// priority 1, more than 1 controller can be triggered,
			// but we will prioritize this controller.
			return 1;	
		}
		// if we are somewhere else than at /helloworld,
		// do not trigger the controller.
		else return false; 
	}

	// once the controller is triggered (it validated with the function above)
	
	// the execute function will pass the models to the view
	function execute() {
		// display view for hello world page (hello template)
		$this->loadView('hello.tpl');
	}
}

</code></pre>					
				</li>
				<li>
					<p>Here is an example of the controller passing a static model "page.greeting"</p>
					<p><span class="code">/webapp/controllers/hello.php</span></p>
<pre><code class="language-php">
[...]
	// the execute function will pass the models to the view
	function execute() {
		// add hello world model
		$this->addModel('page', 'greeting', 'Hello world!');
		
		// display view for hello world page (hello template)
		$this->loadView('hello.tpl');
	}
[...]

</code></pre>					
					<p>Here is an example of a view receiving a static model "page.greeting"</p>
					<p><span class="code">/webapp/views/hello.tpl</span></p>
<pre><code class="language-php">
&lt;html>
	&lt;head>&lt;/head>
	&lt;body>
		&lt;h1>[page.greeting]&lt;/h1>
	&lt;/body>
&lt;/html>

</code></pre>
					<p>Once rendered, will output <span class="code">Hello world!</span></p>
				</li>
				<li>
					<p>Here is an example of a database fetch</p>
					<p><span class="code">/webapp/controllers/hello.php</span></p>
<pre><code class="language-php">
[...]
	// the execute function will pass the models to the view
	function execute() {
		
		// Database preparation
		$db = new Database();
		$db::connect();
		
		// url pattern: chatbox/chatlog/room/last-post-id
		//				  q(0) /  q(1) /q(2) q(3)
		$room_id = q(2);
		$last_post_id = (int) q(3);
		
		// use $db::param() to secure functions within the string
		
		// get all chat posts from main lobby
		$chatlog = $db::queryResults("SELECT id, liner, md5(user) picture, user email
								   FROM chatbox
								   WHERE room_id='".$db::param($room_id)."'
								   AND id > ".$last_post_id."
								   ORDER BY id DESC
								   LIMIT 50");		
		
		// add chatlog model
		$this->addModel('chatlog', $chatlog);
		
		// display view for hello world page (hello template)
		$this->loadView('hello.tpl');
	}
[...]

</code></pre>					
					<p>And Here is an example of a view receiving a database model "chatlog".</p>
					<p><span class="code">/webapp/views/hello.tpl</span></p>
<pre><code class="language-php">
&lt;html>
	&lt;head>&lt;/head>
	&lt;body>
		&lt;h1>[page.greeting]&lt;/h1>
		[for:chatlog]
			 &lt;p>[chatlog.email]: &lt;pre>[chatlog.liner]&lt;/pre></p>
		[end:chatlog]
	&lt;/body>
&lt;/html>

</code></pre>
					<p>Once rendered, will output a line per result.</p>
				</li>
				<li>
					<p><img src="/files/img/needles.png" style="width:100%;"/></p>
					<p>Now it gets interesting, the injection scripts!</p>
				</li>
				<li>

<pre><code class="language-php">
[...]
	function validate() {
		// execute on all pages,
		// priority of 15
		// to let the page controllers execute before this one.
		return 15; 
	}

	// once the controller is triggered
	// (it validated with the function above)
	function execute() {
		// after the page controller is loaded.
		// browse DOM to "header" id,
		// then element with class "menu"
		// and prepend the view menu.tpl
		$this->injectView('#header .menu', 'prepend', 'menu.tpl');
	}
[...]

</code></pre>
				</li>
				
				
			</ul>
		</div>
		<div>
			<p><a class="slider-next" href="#helloworld">Continue &gt;&gt;</a></p>
		</div>
	</div>
<script type="text/javascript">
		$('.slider-hello-world').unslider({
			animation: 'horizontal',
			autoplay: false,
			arrows: false,
			animateHeight: true
		});
		$('#helloworld .unslider-nav ol li, #hello').click(function() {
			$('html, body').animate({
					scrollTop: $("#hello").offset().top
			}, 200);
		});
		$('.slider-next').click(function() {
			$('html, body').animate({
					scrollTop: $("#hello").offset().top
			}, 200);
			$('.slider-hello-world').unslider('next');
		});
</script>

	<h3 id="docs">Documentation</h3>
<!--
/*
 * If "dream" variable on the "register" form hasn't been set before, it is equal to "Forgery"
 * the form "register" is also a model passed on to the view.
 * 
 * Therefore, the following happens:
 *
 * 1. register.dream model = "Forgery"
 * 2. the view displays Forgery in a textbox
 * 3. The user types in "Forge2" and submits the form to /dream
 * 4. The default value of register.dream is overriden by the post value of register.dream
 *    it is now equal to "Forge2" in the controller
 */
$this->cacheForm('register', array(	'dream'=>'Forgery'
								));
$myDream = $this->getModel('register', 'dream');

$this->loadView('form.tpl');
-->	

		chatbox[eof]
	</div>	
</div>
<script type="text/javascript">
	var animy = 40;
	function animatepromo() {
		
		var $thisdata = $('.anim:not(.rendered)');
		var count_in_group = $('.anim:not(.rendered)').first().parents('.anim-group').find('.anim').length;
		var count_rendered_in_group = $('.anim:not(.rendered)').first().parents('.anim-group').find('.anim.rendered').length;
		
		if ($thisdata.length > 0) {
			
			$thisdata.first(
			).css({
						left: '-9999px',
						top: 0,
						fontSize : '100px',
						opacity: 0
			}).animate(
				{
						left: 0,
						top: animy+'px',
						fontSize : '30px',
						opacity: 1
				},2000
			).fadeIn().addClass('rendered');
			animy += 80;
			setTimeout(function(){ 
				if (count_in_group == count_rendered_in_group + 1) {
					animy = 40;
					setTimeout(function(){ $('.slider').unslider('next'); }, 2000);
				}
				animatepromo(); 
			}, 2000);
		} else {
			$('.slider').unslider('start');
		}
	}
	
	$(function() {	
		animatepromo();
	});
</script>

[footer.tpl]